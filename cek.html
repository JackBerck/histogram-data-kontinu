<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Histogram</title>
    <style>
      .info-box {
        position: absolute;
        background-color: white;
        border: 1px solid #ccc;
        padding: 5px;
        border-radius: 5px;
        pointer-events: none; /* agar tidak mengganggu event mouse */
        display: none; /* sembunyikan secara default */
      }

      .graph .labels-title {
        text-anchor: end;
        font-family: "Asana Math";
      }

      .graph {
        height: 450px;
        width: 720px;
      }

      .graph .grid {
        stroke: #ccc;
        stroke-dasharray: 0;
        stroke-width: 1;
      }

      .labels {
        font-size: 13px;
      }

      .label-title {
        font-weight: bold;
        text-transform: uppercase;
        font-size: 12px;
        fill: black;
      }

      .data {
        fill: red;
        stroke-width: 1;
      }
    </style>
  </head>
  <body>
    <svg
      version="1.2"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      class="graph"
      aria-labelledby="title"
      role="img"
    >
      <title id="title">Histogram</title>
      <g class="grid x-grid" id="xGrid">
        <line x1="130" x2="130" y1="5" y2="370"></line>
      </g>
      <g class="grid y-grid" id="yGrid">
        <line x1="130" x2="705" y1="370" y2="370"></line>
      </g>
      <g class="labels-title x-label-title">
        <text x="400" y="440" id="x-title" class="label-title">Nilai</text>
      </g>
      <g class="labels-title y-label-title">
        <text x="70" y="200" class="label-title">Frekuensi</text>
      </g>
      <g class="bar-container">
        <rect
          x="225.83333333333331"
          y="65.83333333333331"
          width="95.83333333333333"
          height="304.1666666666667"
          fill="#9370db"
          bar-frequency="5"
          bar-range="12 - 33"
        ></rect>
        <rect
          x="321.66666666666663"
          y="187.5"
          width="95.83333333333333"
          height="182.5"
          fill="#9370db"
          bar-frequency="3"
          bar-range="33 - 54"
        ></rect>
        <rect
          x="417.5"
          y="126.66666666666666"
          width="95.83333333333333"
          height="243.33333333333334"
          fill="#9370db"
          bar-frequency="4"
          bar-range="54 - 75"
        ></rect>
        <rect
          x="513.3333333333333"
          y="126.66666666666666"
          width="95.83333333333333"
          height="243.33333333333334"
          fill="#9370db"
          bar-frequency="4"
          bar-range="75 - 96"
        ></rect>
      </g>
      <g class="labels y-labels">
        <text x="80" y="65.83333333333331" class="label-title">5</text>
        <text x="80" y="187.5" class="label-title">3</text>
        <text x="80" y="126.66666666666666" class="label-title">4</text>
      </g>
      <g class="labels x-labels">
        <text x="215.83333333333331" y="380" class="label-title">12</text>
        <text x="311.66666666666663" y="380" class="label-title">33</text>
        <text x="407.5" y="380" class="label-title">54</text>
        <text x="503.3333333333333" y="380" class="label-title">75</text>
        <text x="599.1666666666666" y="380" class="label-title">96</text>
      </g>
    </svg>
    <div class="info-box"></div>
    <script>
      function legendBox() {
        const bars = document.querySelectorAll(".bar-container rect");
        const infoBox = document.querySelector(".info-box");

        bars.forEach((bar) => {
          bar.addEventListener("mouseover", function (e) {
            const x = e.clientX + 10;
            const y = e.clientY + 10;
            const range = bar.getAttribute("bar-range");
            const frequency = bar.getAttribute("bar-frequency");
            infoBox.textContent = `Rentang Nilai: ${range}, Frekuensi: ${frequency}`;
            infoBox.style.left = `${x}px`;
            infoBox.style.top = `${y}px`;
            infoBox.style.display = "block";
            infoBox.style.opacity = 1; // Menampilkan langsung tanpa penundaan
          });
          bar.addEventListener("mouseout", function () {
            infoBox.style.opacity = 0;
            infoBox.style.display = "none";
          });
        });
      }

      legendBox();
    </script>
  </body>
</html>
